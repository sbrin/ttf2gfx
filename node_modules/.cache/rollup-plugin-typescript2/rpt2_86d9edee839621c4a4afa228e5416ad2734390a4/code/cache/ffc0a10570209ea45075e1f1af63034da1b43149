{"code":"import { __awaiter, __generator } from \"tslib\";\nimport * as opentype from 'opentype.js';\nimport { ASCII_START, ASCII_END } from '../const';\nexport function loadFont(file) {\n    return __awaiter(this, void 0, void 0, function () {\n        var arrayBuffer;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, file.arrayBuffer()];\n                case 1:\n                    arrayBuffer = _a.sent();\n                    return [2 /*return*/, new Promise(function (resolve, reject) {\n                            try {\n                                var font = opentype.parse(arrayBuffer);\n                                resolve(font);\n                            }\n                            catch (err) {\n                                reject(err);\n                            }\n                        })];\n            }\n        });\n    });\n}\nexport function extractGlyphs(font) {\n    var glyphs = [];\n    for (var i = ASCII_START; i <= ASCII_END; i++) {\n        var glyph = font.charToGlyph(String.fromCharCode(i));\n        glyphs.push(glyph);\n    }\n    return glyphs;\n}\n//# sourceMappingURL=fontLoader.js.map","references":["/Users/sun/lopaka_cloud/tools/truetype2gfx/node_modules/@types/opentype.js/index.d.ts","/Users/sun/lopaka_cloud/tools/truetype2gfx/src/const.ts"],"map":"{\"version\":3,\"file\":\"fontLoader.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/core/fontLoader.ts\"],\"names\":[],\"mappings\":\";AAAA,OAAO,KAAK,QAAQ,MAAM,aAAa,CAAC;AACxC,OAAO,EAAC,WAAW,EAAE,SAAS,EAAC,MAAM,UAAU,CAAC;AAEhD,MAAM,UAAgB,QAAQ,CAAC,IAAU;;;;;wBACjB,qBAAM,IAAI,CAAC,WAAW,EAAE,EAAA;;oBAAtC,WAAW,GAAG,SAAwB;oBAC5C,sBAAO,IAAI,OAAO,CAAgB,UAAC,OAAO,EAAE,MAAM;4BAC9C,IAAI,CAAC;gCACD,IAAM,IAAI,GAAG,QAAQ,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;gCACzC,OAAO,CAAC,IAAI,CAAC,CAAC;4BAClB,CAAC;4BAAC,OAAO,GAAG,EAAE,CAAC;gCACX,MAAM,CAAC,GAAG,CAAC,CAAC;4BAChB,CAAC;wBACL,CAAC,CAAC,EAAC;;;;CACN;AAED,MAAM,UAAU,aAAa,CAAC,IAAmB;IAC7C,IAAM,MAAM,GAAqB,EAAE,CAAC;IACpC,KAAK,IAAI,CAAC,GAAG,WAAW,EAAE,CAAC,IAAI,SAAS,EAAE,CAAC,EAAE,EAAE,CAAC;QAC5C,IAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC;QACvD,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACvB,CAAC;IACD,OAAO,MAAM,CAAC;AAClB,CAAC\"}","dts":{"name":"/Users/sun/lopaka_cloud/tools/truetype2gfx/types/core/fontLoader.d.ts","writeByteOrderMark":false,"text":"import * as opentype from 'opentype.js';\nexport declare function loadFont(file: File): Promise<opentype.Font>;\nexport declare function extractGlyphs(font: opentype.Font): opentype.Glyph[];\n"}}
